<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" lang="en">
<div th:replace="~{fragments :: head('FOG')}"></div>

<body>
<div th:replace="~{fragments :: top-nav}"></div>

<section>
  <h3>Order Details</h3>
 <div>
    <p>ID: <span th:text="${SessionOrder.id}"></span></p>
    <p>Dato: <span th:text="${SessionOrder.date}"></span></p>
    <p>User ID: <span th:text="${SessionOrder.user_id}"></span></p>
    <p>Carport Længde: <span th:text="${SessionOrder.carport_length}"></span></p>
    <p>Carport Bredde: <span th:text="${SessionOrder.carport_width}"></span></p>
    <p>Skur Længde: <span th:text="${SessionOrder.shed_length}"></span></p>
    <p>Skur Bredde: <span th:text="${SessionOrder.shed_width}"></span></p>
    <p>Status: <span th:text="${SessionOrder.status}"></span></p>
     <div th:if="${orderlines}">
         <div th:each="orderline : ${orderlines}">
             <p>Orderline id: <span th:text="${orderline.id}"></span></p>
             <p>Materiale id: <span th:text="${orderline.material.id}"></span></p>
             <p>Antal: <span th:text="${orderline.quantity}"></span></p>
             <p>Pris på materialet: <span th:text="${orderline.total_price}"></span> kr</p>
         </div>
     </div>
  </div>

  <form action="/update-status" method="post">
    <input type="hidden" name="orderId" th:value="${SessionOrder.id}" />
    <label for="status">Ny Status:</label>
    <select name="status" id="status" required>
      <option value="Accepteret" th:selected="${SessionOrder.status == 'Accepteret'}">Accepteret</option>
      <option value="Betalt" th:selected="${SessionOrder.status == 'Betalt'}">Betalt</option>
        <option value="På Hold" th:selected="${SessionOrder.status == 'På Hold'}">On Hold</option>

    </select>
    <button type="submit">Opdatere Status</button>
  </form>
</section>

</body>

</html>
